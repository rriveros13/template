<ion-header>
  <ion-toolbar>
    <ion-title>Pago de venta</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cerrar()" fill="clear" color="danger">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <form [formGroup]="form" (ngSubmit)="pagar()">
      <ion-row>
        <ion-col size-xs="12" size-sm="12" size-md="6" size-lg="6">
          <ion-item>
            <ion-label>Fecha de Pago</ion-label>
            <ion-datetime-button datetime="datetime"></ion-datetime-button>
            <ion-modal [keepContentsMounted]="true">
              <ng-template>
                <ion-datetime formControlName="fechaPago" id="datetime" presentation="date" [preferWheel]="true"></ion-datetime>
              </ng-template>
            </ion-modal>
          </ion-item>
        </ion-col>
        <ion-col size-xs="12" size-sm="12" size-md="6" size-lg="6">
          <ion-item>
            <ion-label position="floating">Monto</ion-label>
            <ion-input formControlName="montoPagado" type="number"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col size-xs="12" size-sm="12" size-md="6" size-lg="6">
          <ion-item>
            <ion-label position="floating">Metodo de pago</ion-label>
            <ion-select cancelText="Cancelar" formControlName="metodoPago">
              <ion-select-option *ngFor="let item of metodoPago" [value]="item">
                {{item}}
              </ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12" size-sm="4" size-md="4" size-lg="3">
          <ion-button type="submit" expand="block">{{editar ? 'Modificar pago' : 'Pagar'}}</ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-label>
            <p>Total a pagar: {{totalPagar | number:'1.0-0':'es'}}</p>
            <p>Total a pagado: {{totalPagado | number:'1.0-0':'es'}}</p>
            <p>Saldo pendiente: {{pendiente | number:'1.0-0':'es'}}</p>
          </ion-label>
        </ion-col>
      </ion-row>
    </form>

  </ion-grid>
</ion-content>
